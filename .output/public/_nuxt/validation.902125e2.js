import{k as p,r as a,l as x,A as b,u as l,o as f,b as h,h as t,x as n,B as v}from"./entry.cda42669.js";import{u as _,a as g}from"./fetch.d12b9f63.js";const k={key:0,class:"page relative h-full w-full transition-width flex flex-col overflow-hidden items-stretch flex-1"},w={class:"pt-10 h-3/5 w-full mx-auto max-w-5xl"},y=t("h3",{class:"text-2xl font-semibold mb-6"},"Validate News Article",-1),D={class:"relative h-full p-6 bg-[#444653] rounded-3xl overflow-y-auto mb-4"},I={class:"block text-right"},A=["innerHTML"],L=["innerHTML"],M={class:"p-6 bg-[#444653] rounded-3xl overflow-y-auto mb-4"},T=["href"],$={class:"p-6 bg-[#444653] rounded-3xl overflow-y-auto"},B={class:"absolute bottom-0 left-0 w-full"},C={class:"stretch mx-2 grid grid-cols-3 gap-6 last:mb-6 mx-auto max-w-3xl bg-dark rounded-3xl p-6"},U={__name:"validation",setup(H){const{$socket:d}=p(),o=a(null);a(0),a(0);const r=a("");c(),x(()=>{d.on("model-training-status",s=>{modelTraining.value=s})});async function c(){const{data:s}=await _("/api/articles/validation",{method:"post",body:{userID:localStorage==null?void 0:localStorage.getItem("aiUserUID")}},"$MuntDq3tqK");b(s,e=>{o.value=e,m(o.value.text)})}async function i(s){var e;await g("/api/articles/validation",{method:"put",body:{userID:localStorage==null?void 0:localStorage.getItem("aiUserUID"),articleID:(e=o.value)==null?void 0:e._id,validationResult:s}},"$vAJPTO2hDL").then(()=>{c()})}function m(s){d.emit("predict-validation",s,e=>{r.value=e.prediction})}return(s,e)=>l(o)?(f(),h("div",k,[t("div",w,[y,t("div",D,[t("small",I,[t("b",null,n(l(o).date),1)]),t("h3",{class:"text-lg mb-4",innerHTML:l(o).text.split(/\s+/).slice(0,15).join(" ")},null,8,A),t("p",{class:"text-md text-gray-100",innerHTML:l(o).text},null,8,L)]),t("div",M,[t("a",{class:"text-md text-blue-400 hover:opacity-80",href:l(o).link,target:"_blank"},n(l(o).link),9,T)]),t("div",$,"AI Prediction is: "+n(l(r)),1)]),t("div",B,[t("div",C,[t("button",{class:"p-4 bg-green-600 rounded-xl font-semibold",onClick:e[0]||(e[0]=u=>i("accept"))}," Accept "),t("button",{class:"p-4 bg-red-600 rounded-xl font-semibold",onClick:e[1]||(e[1]=u=>i("reject"))}," Reject "),t("button",{class:"p-4 bg-sky-600 rounded-xl font-semibold",onClick:e[2]||(e[2]=u=>i("skip"))}," Skip ")])])])):v("",!0)}};export{U as default};
