import{o as i,b as c,F as g,m as f,h as t,x as a,E as h,C as v,D as k,a as y,k as $,r,A as D,B as S,u as o,c as I,G as V,p as L,j as C}from"./entry.f78c8d71.js";const T=""+globalThis.__publicAssetsURL("icons/accept.svg"),A=""+globalThis.__publicAssetsURL("icons/reject.svg"),U=""+globalThis.__publicAssetsURL("icons/forward.svg"),j={class:"relative pt-10 pb-20 w-full h-full mx-auto max-w-5xl overflow-y-auto"},B={class:"flex justify-between items-center"},N=["href"],F={class:"mb-4 text-md"},R={class:"block"},q=t("b",null,"Date:",-1),M={class:"block"},P=t("b",null,"Parser:",-1),z={key:0,class:"flex gap-2 min-w-[200px] ml-4"},E=["onClick"],H=t("img",{src:T,alt:""},null,-1),J=[H],K=["onClick"],G=t("img",{src:A,alt:""},null,-1),O=[G],Q=["onClick"],W=t("img",{src:U,alt:""},null,-1),X=[W],Y={__name:"TableView",props:{articleList:{type:Array,required:!0}},setup(_){const n=_;async function m(s,u){await k("/api/articles/validation-v2",{method:"put",body:{userID:localStorage==null?void 0:localStorage.getItem("aiUserUID"),articleId:s,validationResult:u}},"$yJayS8AxgK").then(()=>{n.articleList.find(e=>e._id===s).validated=!0,getValidationItem()})}return(s,u)=>(i(),c("div",j,[(i(!0),c(g,null,f(n.articleList,e=>(i(),c("div",{class:"p-6 bg-[#444653] rounded-3xl mb-4",key:e._id},[t("div",B,[t("div",null,[t("a",{class:"text-xl mb-2 text-blue-400 hover:opacity-80",href:e.link,target:"_blank"},a(e.title),9,N),t("p",F,a(e.excerpt),1),t("small",R,[q,h(" "+a(new Date(e.date).toLocaleDateString())+" "+a(new Date(e.date).toTimeString()),1)]),t("small",M,[P,h(" "+a(e.parserId.name),1)])]),e.validated?v("",!0):(i(),c("div",z,[t("button",{class:"p-4 bg-green-600 rounded-xl font-semibold",onClick:b=>m(e._id,"accept")},J,8,E),t("button",{class:"p-4 bg-red-600 rounded-xl font-semibold",onClick:b=>m(e._id,"reject")},O,8,K),t("button",{class:"p-4 bg-sky-600 rounded-xl font-semibold",onClick:b=>m(e._id,"skip")},X,8,Q)]))])]))),128))]))}};const x=_=>(L("data-v-abbb426f"),_=_(),C(),_),Z={key:0,class:"page relative h-full w-full transition-width flex flex-col overflow-hidden items-stretch flex-1"},tt={class:"pt-10 w-full h-full mx-auto max-w-5xl"},et={class:"flex justify-between items-center mb-6"},st=x(()=>t("h3",{class:"text-2xl font-semibold"},"Validate News Articles",-1)),ot={class:"view"},lt=["onClick"],at={key:0,class:"h-1/5"},it={class:"p-6 bg-[#444653] rounded-3xl overflow-y-auto mb-4"},nt={class:"text-xl mb-2"},ct={class:"mb-4 text-md"},dt={class:"block"},rt=x(()=>t("b",null,"Date:",-1)),_t={class:"block"},ut=x(()=>t("b",null,"Parser:",-1)),bt={class:"relative h-full p-6 bg-[#444653] rounded-3xl overflow-y-auto mb-4"},mt=["innerHTML"],pt={class:"p-6 bg-[#444653] rounded-3xl overflow-y-auto mb-4"},ht=["href"],vt={key:0,class:"absolute bottom-0 left-0 w-full"},xt={class:"stretch mx-2 grid grid-cols-3 gap-6 last:mb-6 mx-auto max-w-3xl bg-dark rounded-3xl p-6"},gt={__name:"validation",setup(_){$();const n=r("Single View"),m=r([{name:"Single View"},{name:"Table View"}]),s=r(null),u=r(null);r(0),r(0),r(""),e();async function e(){const{data:p}=await D("/api/articles/validation-v2",{method:"post",body:{userID:localStorage==null?void 0:localStorage.getItem("aiUserUID"),tableView:n.value==="Table View"}},"$MuntDq3tqK");S(p,l=>{n.value==="Single View"?s.value=l:u.value=l})}async function b(p){var l;await k("/api/articles/validation-v2",{method:"put",body:{userID:localStorage==null?void 0:localStorage.getItem("aiUserUID"),articleId:(l=s.value)==null?void 0:l._id,validationResult:p}},"$vAJPTO2hDL").then(()=>{e()})}return(p,l)=>{const w=Y;return o(s)||o(u)?(i(),c("div",Z,[t("div",tt,[t("div",et,[st,t("div",ot,[t("ul",null,[(i(!0),c(g,null,f(o(m),d=>(i(),c("li",{key:d,onClick:ft=>{n.value=d.name,e()},class:V({active:o(n)==d.name})},a(d.name),11,lt))),128))])])]),o(n)==="Single View"?(i(),c("div",at,[t("div",it,[t("h3",nt,a(o(s).title),1),t("p",ct,a(o(s).excerpt),1),t("small",dt,[rt,h(" "+a(new Date(o(s).date).toLocaleDateString())+" "+a(new Date(o(s).date).toTimeString()),1)]),t("small",_t,[ut,h(" "+a(o(s).parserId.name),1)])]),t("div",bt,[t("p",{class:"text-md text-gray-100",innerHTML:o(s).content},null,8,mt)]),t("div",pt,[t("a",{class:"text-md text-blue-400 hover:opacity-80",href:o(s).link,target:"_blank"},a(o(s).link),9,ht)])])):(i(),I(w,{key:1,articleList:o(u)},null,8,["articleList"]))]),o(n)==="Single View"?(i(),c("div",vt,[t("div",xt,[t("button",{class:"p-4 bg-green-600 rounded-xl font-semibold",onClick:l[0]||(l[0]=d=>b("accept"))}," Accept "),t("button",{class:"p-4 bg-red-600 rounded-xl font-semibold",onClick:l[1]||(l[1]=d=>b("reject"))}," Reject "),t("button",{class:"p-4 bg-sky-600 rounded-xl font-semibold",onClick:l[2]||(l[2]=d=>b("skip"))}," Skip ")])])):v("",!0)])):v("",!0)}}},wt=y(gt,[["__scopeId","data-v-abbb426f"]]);export{wt as default};
